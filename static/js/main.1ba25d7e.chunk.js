(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var o=n(1),a=n.n(o),c=n(9),r=n.n(c),i=(n(15),n(3)),s=n(4),u=n(6),d=n(5),l=n(2),f=n(7),j=function(){function t(){Object(i.a)(this,t)}return Object(s.a)(t,[{key:"createItemData",value:function(t,e){return{id:t,text:e,done:!1,createDate:Date.now(),currentSessionStart:null,currentSession:0,totalSession:0,isActive:!1,timerID:null}}},{key:"addItem",value:function(t,e,n){return{todos:[].concat(Object(f.a)(t),[this.createItemData(e,n)])}}},{key:"editItem",value:function(t,e,n){var o=t.findIndex((function(t){return t.id===e})),a=Object(l.a)(Object(l.a)({},t[o]),{},{text:n}),c=Object(f.a)(t);return c.splice(o,1,a),{todos:c}}},{key:"removeItem",value:function(t,e){var n=t.findIndex((function(t){return t.id===e})),o=Object(f.a)(t);return o.splice(n,1),{todos:o}}},{key:"changeStatusItem",value:function(t,e,n){var o,a=t.findIndex((function(t){return t.id===e}));"done"===n?o=Object(l.a)(Object(l.a)({},t[a]),{},{done:!t[a].done}):"startTimer"===n?o=Object(l.a)(Object(l.a)({},t[a]),{},{isActive:!0,currentSessionStart:Date.now()}):"stopTimer"===n&&(o=Object(l.a)(Object(l.a)({},t[a]),{},{isActive:!1,totalSession:t[a].currentSession}));var c=Object(f.a)(t);return c.splice(a,1,o),{todos:c}}},{key:"clearDone",value:function(t){return{todos:t.filter((function(t){return!t.done}))}}}]),t}(),b=n(0),h=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={newTodoLabel:""},t.onLabelChange=function(e){t.setState({newTodoLabel:e.target.value})},t.onSubmitNewTodo=function(e){e.preventDefault(),(0,t.props.addTodo)(t.state.newTodoLabel),t.setState({newTodoLabel:""})},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state.newTodoLabel;return Object(b.jsx)("form",{onSubmit:this.onSubmitNewTodo,children:Object(b.jsx)("input",{className:"new-todo",placeholder:"What needs to be done?",onChange:this.onLabelChange,value:t})})}}]),n}(a.a.Component);h.defaultProps={addTodo:function(){}};var m=h;function v(t){var e=t.addTodo;return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("h1",{children:"Todos"}),Object(b.jsx)(m,{addTodo:function(t){return e(t)}})]})}v.defaultProps={addTodo:function(){}};var p=v,O=n(10),S=n.n(O),T=n(19),g=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"formatingTime",value:function(t){return"0".concat(t).slice(-2)}},{key:"render",value:function(){var t=this.props,e=t.changeStatusTodo,n=t.currentSession,o=Math.trunc(n/60),a=n%60;return Object(b.jsxs)("span",{className:"description",children:[Object(b.jsx)("button",{onClick:function(){return e("startTimer")},className:"icon icon-play",type:"button","aria-label":"Start timer"}),Object(b.jsx)("button",{onClick:function(){return e("stopTimer")},className:"icon icon-pause",type:"button","aria-label":"Stop timer"}),Object(b.jsxs)("span",{style:{marginLeft:10},children:[this.formatingTime(o),":",this.formatingTime(a)]})]})}}]),n}(a.a.Component),x=g;var y=function(t){var e=t.id,n=t.content,o=t.createDate,a=t.changeStatusTodo,c=t.currentSession;return Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{className:"title",children:n}),Object(b.jsx)(x,{id:e,currentSession:c,changeStatusTodo:function(t){return a(t)}}),Object(b.jsx)("span",{className:"description",children:Object(T.a)(o,{includeSeconds:!0})})]})},k=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={edit:!1},t.startEditing=function(){t.setState({edit:!0})},t.onEditing=function(e){var n=t.props.editTodo;13===e.keyCode?(n(e.target.value),t.setState({edit:!1})):27===e.keyCode&&t.setState({edit:!1})},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.text,n=t.createDate,o=t.removeTodo,a=t.done,c=t.changeStatusTodo,r=t.id,i=t.currentSession,s=this.state.edit,u=S()({completed:a,editing:s});return Object(b.jsxs)("li",{className:u,children:[Object(b.jsxs)("div",{className:"view",children:[Object(b.jsx)("input",{type:"checkbox",className:"toggle",onChange:function(){return c("done")},checked:a}),Object(b.jsx)(y,{content:e,createDate:n,id:r,currentSession:i,changeStatusTodo:function(t){return c(t)}}),Object(b.jsx)("button",{className:"icon icon-edit",onClick:this.startEditing,type:"submit","aria-label":"Edit todo"}),Object(b.jsx)("button",{className:"icon icon-destroy",onClick:o,type:"submit","aria-label":"Remove todo"})]}),Object(b.jsx)("input",{onKeyDown:this.onEditing,className:"edit",defaultValue:e})]})}}]),n}(a.a.Component);k.defaultProps={createDate:Date.now()};var N=k;function I(t){var e=t.data,n=t.removeTodo,o=t.changeStatusTodo,a=t.editTodo,c=e.map((function(t){var e=t.id;return Object(b.jsx)(N,Object(l.a)(Object(l.a)({},t),{},{removeTodo:function(){return n(e)},changeStatusTodo:function(t){return o(e,t)},editTodo:function(t){return a(e,t)}}),e)}));return Object(b.jsx)("ul",{className:"todo-list",children:c})}I.defaultProps={editTodo:function(){},removeTodo:function(){},changeStatusTodo:function(){}};var C=I;function D(t){var e=t.changeFilter,n=t.filter;return Object(b.jsxs)("ul",{className:"filters",children:[Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:function(){return e("All")},className:"All"===n?"selected":null,type:"submit",children:"All"})}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:function(){return e("Active")},className:"Active"===n?"selected":null,type:"submit",children:"Active"})}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:function(){return e("Completed")},className:"Completed"===n?"selected":null,type:"submit",children:"Completed"})})]})}D.defaultProps={changeFilter:function(){},filter:"All"};var A=D;function w(t){var e=t.clearDone,n=t.countActive,o=t.changeFilter,a=t.filter;return Object(b.jsxs)("footer",{className:"footer",children:[Object(b.jsxs)("span",{className:"todo-count",children:[n," items left"]}),Object(b.jsx)(A,{changeFilter:function(t){return o(t)},filter:a}),Object(b.jsx)("button",{className:"clear-completed",onClick:e,type:"submit",children:"Clear completed"})]})}w.defaultProps={clearDone:function(){},changeFilter:function(){},filter:"All"};var M=w,F=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).currentId=0,t.dataBaseMethods=new j,t.state={todos:[],filter:"All"},t.removeTodo=function(e){t.setState((function(n){var o=n.todos;return t.dataBaseMethods.removeItem(o,e)}))},t.editTodo=function(e,n){t.setState((function(o){var a=o.todos;return t.dataBaseMethods.editItem(a,e,n)}))},t.addTodo=function(e){t.setState((function(n){var o=n.todos;return t.dataBaseMethods.addItem(o,t.currentId,e)})),t.currentId+=1},t.changeStatusTodo=function(e,n){t.setState((function(o){var a=o.todos;return t.dataBaseMethods.changeStatusItem(a,e,n)}))},t.clearDone=function(){t.setState((function(e){var n=e.todos;return t.dataBaseMethods.clearDone(n)}))},t.changeFilter=function(e){t.setState({filter:e})},t.checkActiveTimer=function(){var e=JSON.parse(localStorage.getItem("todos"));e.forEach((function(t){t.isActive&&(t.currentSession=Math.trunc((Date.now()-t.currentSessionStart)/1e3)+t.totalSession)})),t.setState({todos:e})},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("todos"));if(t){this.setState({todos:t});var e=t.length?t[t.length-1].id:0;this.currentId=e+1}this.updateTimer=setInterval(this.checkActiveTimer,1e3)}},{key:"componentDidUpdate",value:function(){var t=this.state.todos;localStorage.setItem("todos",JSON.stringify(t))}},{key:"componentWillUnmount",value:function(){clearInterval(this.updateTimer)}},{key:"render",value:function(){var t=this,e=this.state,n=e.todos,o=e.filter,a=n.filter((function(t){return!t.done})).length,c="Active"===o?n.filter((function(t){return!t.done})):"Completed"===o?n.filter((function(t){return t.done})):n;return Object(b.jsxs)("section",{className:"todoapp",children:[Object(b.jsx)(p,{addTodo:function(e){return t.addTodo(e)}}),Object(b.jsxs)("section",{className:"main",children:[Object(b.jsx)(C,{data:c,removeTodo:function(e){return t.removeTodo(e)},changeStatusTodo:this.changeStatusTodo,editTodo:this.editTodo}),Object(b.jsx)(M,{clearDone:this.clearDone,countActive:a,changeFilter:this.changeFilter,filter:o})]})]})}}]),n}(a.a.Component),L=F;r.a.render(Object(b.jsx)(L,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.1ba25d7e.chunk.js.map